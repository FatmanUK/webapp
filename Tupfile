FIRST_PAGE="FrontPage"
PORT="8443"
TITLE="WebApp"

LDFLAGS =-X main.BUILD_MODE=@(BUILD_MODE)
LDFLAGS+=-X main.configFile=@(CONFIG_FILE)
LDFLAGS+=-X main.databaseFile=@(DATABASE_FILE)
LDFLAGS+=-X main.defaultTlsKey=@(TLS_KEY)
LDFLAGS+=-X main.defaultTlsCrt=@(TLS_CERT)
LDFLAGS+=-X main.defaultFirstPage=$(FIRST_PAGE)
LDFLAGS+=-X main.defaultWebPort=$(PORT)
LDFLAGS+=-X main.defaultKeysDir=@(KEYS_DIR)
LDFLAGS+=-X main.defaultStaticDir=@(STATIC_DIR)
LDFLAGS+=-X main.appName=$(TITLE)
LDFLAGS+=@(EXTRA_LDFLAGS)

ifeq (@(OS), "windows")
	run ./embed.cmd "$(LDFLAGS)"
else
	run ./embed.bash "$(LDFLAGS)"
endif
